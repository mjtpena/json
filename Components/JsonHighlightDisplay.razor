@using JsonBlazer.Services
@inject ThemeService ThemeService

<div class="json-highlight-container">
    @if (!string.IsNullOrWhiteSpace(JsonContent))
    {
        <pre class="json-editor"><code>@((MarkupString)HighlightedJson)</code></pre>
    }
    else
    {
        <div class="json-placeholder">
            <MudIcon Icon="@Icons.Material.Filled.DataObject" Size="Size.Large" Style="opacity: 0.5;" />
            <MudText Typo="Typo.body2" Style="opacity: 0.7; margin-top: 8px;">
                No JSON content to display
            </MudText>
        </div>
    }
</div>

@code {
    [Parameter] public string JsonContent { get; set; } = string.Empty;
    [Parameter] public bool ShowLineNumbers { get; set; } = false;
    
    private string HighlightedJson => JsonHighlighter.HighlightJson(JsonContent, ThemeService.IsDarkMode);
}